<head><script type="module">var t={235:(t,e)=>{e.A=(t,e)=>{const a=t.__vccOpts||t;for(const[t,r]of e)a[t]=r;return a}}},e={};const a=Vue;class r{registry=new Map;register(t){return e=>(t||(t=e.name),this.registry.set(t,e),e)}get(t){return this.registry.get(t)}getAll(){return this.registry}has(t){return this.registry.has(t)}}var s,i,n,l,o,g,u,c=function(t,e,a,r){var s,i=arguments.length,n=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)n=Reflect.decorate(t,e,a,r);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(n=(i<3?s(n):i>3?s(e,a,n):s(e,a))||n);return i>3&&n&&Object.defineProperty(e,a,n),n},m=function(t,e){if('object'==typeof Reflect&&'function'==typeof Reflect.metadata)return Reflect.metadata(t,e)};class h{static registry=new r;constructor(...t){}static fromObject(t){return this.prototype.fromObject(t)}}let d=s=class extends h{low;high;num;constructor(t,e,a){super(),this.low=t,this.high=e,this.num=a}fromObject(t){const e=t.low,a=t.high,r=t.num;return new s(e,a,r)}get TYPE(){return'num'}getValue(){return{low:this.low,high:this.high,num:this.num}}getLow(){return this.low}getHigh(){return this.high}getNum(){return this.num}deltaLow(t){null===t?this.low=null:null===this.low?this.low=t:this.low+=t,this.applyConstrain()}deltaHigh(t){null===t?this.high=null:null===this.high?this.high=t:this.high+=t,this.applyConstrain()}deltaNum(t){this.num+=t,this.applyConstrain()}applyConstrain(){null!==this.low&&this.num<this.low&&(this.num=this.low),null!==this.high&&this.num>this.high&&(this.num=this.high)}};d=s=c([h.registry.register(d.prototype.TYPE),m('design:paramtypes',[Object,Object,Number])],d);let E=i=class extends h{str;constructor(t){super(),this.str=t}fromObject(t){const e=t.str;return new i(e)}get TYPE(){return'str'}getValue(){return{str:this.str}}getStr(){return this.str}setStr(t){this.str=t}};E=i=c([h.registry.register(E.prototype.TYPE),m('design:paramtypes',[String])],E);let p=n=class extends h{datetime;constructor(t){super(),this.datetime=new Date(t)}fromObject(t){const e=t.datetime;return new n(e)}get TYPE(){return'datetime'}getValue(){return{datetime:this.datetime}}getYear(){return this.datetime.getFullYear()}getMonth(){return this.datetime.getMonth()}getDate(){return this.datetime.getDate()}getHours(){return this.datetime.getHours()}getMinutes(){return this.datetime.getMinutes()}getSeconds(){return this.datetime.getSeconds()}getDay(){return this.datetime.getDay()}getDateTime(){return this.datetime}deltaDatetime(t,e,a,r,s,i){this.datetime.setFullYear(this.datetime.getFullYear()+t),this.datetime.setMonth(this.datetime.getMonth()+e),this.datetime.setDate(this.datetime.getDate()+a),this.datetime.setHours(this.datetime.getHours()+r),this.datetime.setMinutes(this.datetime.getMinutes()+s),this.datetime.setSeconds(this.datetime.getSeconds()+i)}};p=n=c([h.registry.register(p.prototype.TYPE),m('design:paramtypes',['function'==typeof(g='undefined'!=typeof Date&&Date)?g:Object])],p);let b=l=class extends h{outcome;random_events;constructor(t,e){super(),this.outcome=t,this.random_events=e}fromObject(t){const e=t?.outcome,a=t.random_events;return new l(e,a)}get TYPE(){return'random'}getValue(){return{outcome:this.outcome,random_events:this.random_events}}roll(){this.outcome=function(t){let e=0;for(const a of t)e+=a.weighting;let a=Math.random()*e;for(const e of t)if(a-=e.weighting,a<=0)return e.event;return t[-1].event}(this.random_events)}};b=l=c([h.registry.register(b.prototype.TYPE),m('design:paramtypes',[Object,Array])],b);let V=o=class extends h{map;constructor(t){if(super(),this.map=new Map,t)for(const[e,a]of Object.entries(t)){const t=h.registry.get(a.type)?.fromObject(a.values);t&&this.map.set(e,t)}}get TYPE(){return'map'}fromObject(t){return new o(t)}getValue(){const t={};for(const[e,a]of this.map.entries())t[e]={type:a.TYPE,values:a.getValue()};return t}getVariable(t){return this.map.get(t)}setVariable(t,e){this.map.set(t,e)}deleteVariable(t){this.map.delete(t)}get size(){return this.map.size}keys(){return this.map.keys()}};V=o=c([h.registry.register(V.prototype.TYPE),m('design:paramtypes',['function'==typeof(u='undefined'!=typeof Record&&Record)?u:Object])],V);class S{state;constructor(t){this.state=t?t.state:new Map}static fromVariables(t){const e=new S;if(null===t)return e;for(const[a,r]of Object.entries(t)){const t=h.registry.get(r.type)?.fromObject(r.values);t&&e.setVariable(a,t)}return e}toVariables(){const t={};for(const[e,a]of this.state)t[e]={type:a.TYPE,values:a.getValue()};return t}getVariable(t){return this.state.get(t)??null}setVariable(t,e){this.state.set(t,e)}deleteVariable(t){this.state.delete(t)}}class y{registry=new Map;register(t,e){this.registry.set(t,e)}get(t){return this.registry.get(t)}getAll(){return this.registry}has(t){return this.registry.has(t)}}class M{static registry=new y;name;description;constructor(t,e){this.name=t,this.description=e}static register(t){M.registry.register(t.name,t)}static get(t){return M.registry.get(t)}}class T extends S{constructor(t){super(t)}static get STAMINA_KEY(){return'行動力'}static get MONEY_KEY(){return'金錢'}static get TRUST_KEY(){return'信賴'}static get INTEREST_KEY(){return'興致'}static get MOOD_KEY(){return'心情'}static get CURRENT_ACTION_KEY(){return'當前行動'}static get EXPECT_RESULT_KEY(){return'預期結果'}static get DATETIME_KEY(){return'時間'}static get BIG_PLACE_KEY(){return'大地點'}static get MIDDLE_PLACE_KEY(){return'中地點'}static get SMALL_PLACE_KEY(){return'小地點'}static get WEATHER_KEY(){return'天氣'}static get FLAGS_KEY(){return'flags'}static get FLAG_BATH_KEY(){return'洗澡了'}static get SHOP_ITEMS_KEY(){return'shop_items'}static get INVENTORIES_KEY(){return'inventories'}static get TRUST_ROC_KEY(){return'信賴變動'}static get INTEREST_ROC_KEY(){return'興致變動'}static get MOOD_ROC_KEY(){return'心情變動'}static get ITEM_TABLE_KEY(){return'item_table'}static get CLOTHING_KEY(){return'妹妹衣著'}static get SUMMARY_TABLE_KEY(){return'summary_table'}static get SUMMARY_KEY(){return'總結'}static get WEIGHTING_KEY(){return'權重'}getNumVariable(t){const e=this.state.get(t);return e instanceof d?e:null}getStrVariable(t){const e=this.state.get(t);return e instanceof E?e:null}getMapVariable(t){const e=this.state.get(t);return e instanceof V?e:null}getStaminaVariable(){return this.getNumVariable(T.STAMINA_KEY)}getStamina(){return this.getStaminaVariable().getNum()}deltaStamina(t){this.getStaminaVariable().deltaNum(t)}getStaminaHigh(){return this.getStaminaVariable().getHigh()}deltaStaminaHigh(t){this.getStaminaVariable().deltaHigh(t)}getMoneyVariable(){return this.getNumVariable(T.MONEY_KEY)}getMoney(){return this.getMoneyVariable().getNum()}deltaMoney(t){this.getMoneyVariable().deltaNum(t)}getTrustVariable(){return this.getNumVariable(T.TRUST_KEY)}getTrust(){return this.getTrustVariable().getNum()}deltaTrust(t){this.getTrustVariable().deltaNum(t)}getInterestVariable(){return this.getNumVariable(T.INTEREST_KEY)}getInterest(){return this.getInterestVariable().getNum()}deltaInterest(t){this.getInterestVariable().deltaNum(t)}getMoodVariable(){return this.getNumVariable(T.MOOD_KEY)}getMood(){return this.getMoodVariable().getNum()}deltaMood(t){this.getMoodVariable().deltaNum(t)}getCurrentAction(){return this.getStrVariable(T.CURRENT_ACTION_KEY).getStr()}setCurrentAction(t){this.getStrVariable(T.CURRENT_ACTION_KEY).setStr(t)}getExpectResult(){return this.getStrVariable(T.EXPECT_RESULT_KEY).getStr()}setExpectResult(t){this.getStrVariable(T.EXPECT_RESULT_KEY).setStr(t)}getDatetimeVariable(){const t=this.state.get(T.DATETIME_KEY);return t instanceof p?t:null}getYear(){return this.getDatetimeVariable().getYear()}getMonth(){return this.getDatetimeVariable().getMonth()}getDate(){return this.getDatetimeVariable().getDate()}getHours(){return this.getDatetimeVariable().getHours()}getMinutes(){return this.getDatetimeVariable().getMinutes()}getSeconds(){return this.getDatetimeVariable().getSeconds()}getDay(){return this.getDatetimeVariable().getDay()}isWeekday(){switch(this.getDay()){case 1:case 2:case 3:case 4:case 5:return!0}return!1}isWeekend(){switch(this.getDay()){case 0:case 6:return!0}return!1}deltaMinutes(t){this.getDatetimeVariable().deltaDatetime(0,0,0,0,t,0)}deltaDatetimeUntil(t,e){const a=this.getDatetimeVariable(),r=60*a.getHours()+a.getMinutes();let s=60*t+e;r>s&&(s+=1440);const i=s-r;a.deltaDatetime(0,0,0,0,i,0)}getBigPlace(){return this.getStrVariable(T.BIG_PLACE_KEY).getStr()}setBigPlace(t){this.getStrVariable(T.BIG_PLACE_KEY).setStr(t)}getMiddlePlace(){return this.getStrVariable(T.MIDDLE_PLACE_KEY).getStr()}setMiddlePlace(t){this.getStrVariable(T.MIDDLE_PLACE_KEY).setStr(t)}getSmallPlace(){return this.getStrVariable(T.SMALL_PLACE_KEY).getStr()}setSmallPlace(t){this.getStrVariable(T.SMALL_PLACE_KEY).setStr(t)}getWeather(){return this.getStrVariable(T.WEATHER_KEY).getStr()}setWeather(t){this.getStrVariable(T.WEATHER_KEY).setStr(t)}getFlagsVariable(){return this.getMapVariable(T.FLAGS_KEY)}getFlagBathVariable(){return this.getFlagsVariable().getVariable(T.FLAG_BATH_KEY)}isAlreadyBath(){return 1===this.getFlagBathVariable().getNum()}setFlagBath(t){t?this.getFlagBathVariable().deltaNum(1):this.getFlagBathVariable().deltaNum(-1)}getShopItemsVariable(){return this.getMapVariable(T.SHOP_ITEMS_KEY)}addShopItem(t,e,a){const r=M.get(t);if(!r)return;const s=new V;s.setVariable('price',new d(null,null,e)),null!==a&&s.setVariable('max_quantity',new d(0,a,a));this.getShopItemsVariable().setVariable(r.name,s)}getShopItem(t){const e=this.getShopItemsVariable().getVariable(t);if(!e)return null;const a=M.get(t),r=e.getVariable('price').getNum();let s;const i=e.getVariable('max_quantity');return s=i?i.getNum():null,{item:a,price:r,max_quantity:s}}getShopItems(){const t=this.getShopItemsVariable(),e=[];for(const a of t.keys())e.push(this.getShopItem(a));return e}getShopItemsSize(){return this.getShopItemsVariable().size}clearShopItems(){this.setVariable(T.SHOP_ITEMS_KEY,new V)}buyShopItem(t,e){const a=this.getShopItemsVariable().getVariable(t);if(!a)return;const r=a.getVariable('price').getNum();this.deltaMoney(-r*e);const s=a.getVariable('max_quantity');s&&s.deltaNum(-e),this.deltaInventory(t,e)}sellShopItem(t,e){if(!this.getInventory(t))return;const a=this.getShopItem(t);let r=a.max_quantity;null!==r&&(r+=e),this.deltaInventory(t,-e),this.deltaMoney(a.price*e),this.addShopItem(t,a.price,r)}getInventoriesVariable(){return this.getMapVariable(T.INVENTORIES_KEY)}deltaInventory(t,e){const a=this.getInventoriesVariable();let r=a.getVariable(t);r?r.deltaNum(e):r=new d(0,null,e),0===r.getNum()?a.deleteVariable(t):a.setVariable(t,r)}getInventory(t){const e=this.getInventoriesVariable().getVariable(t);if(!e)return null;const a=e.getNum();return{name:t,description:this.getItem(t).description,quantity:a}}hasInventory(t){const e=M.get(t);return!!e&&void 0!==this.getInventoriesVariable().getVariable(e.name)}getInventories(){const t=this.getInventoriesVariable(),e=[];for(const a of t.keys())e.push(this.getInventory(a));return e}getDinnerInventory(){return this.hasInventory('體力食材')?'體力食材':this.hasInventory('便當')?'便當':this.hasInventory('食材')?'食材':'泡麵'}getTrustROCVariable(){return this.getNumVariable(T.TRUST_ROC_KEY)}getTrustROC(){return this.getTrustROCVariable().getNum()}deltaTrustROC(t){this.getTrustROCVariable().deltaNum(t)}resetTrustROC(){this.getTrustROCVariable().deltaNum(-this.getTrustROC())}getInterestROCVariable(){return this.getNumVariable(T.INTEREST_ROC_KEY)}getInterestROC(){return this.getInterestROCVariable().getNum()}deltaInterestROC(t){this.getInterestROCVariable().deltaNum(t)}resetInterestROC(){this.getInterestROCVariable().deltaNum(-this.getInterestROC())}getMoodROCVariable(){return this.getNumVariable(T.MOOD_ROC_KEY)}getMoodROC(){return this.getMoodROCVariable().getNum()}deltaMoodROC(t){this.getMoodROCVariable().deltaNum(t)}resetMoodROC(){this.getMoodROCVariable().deltaNum(-this.getMoodROC())}getItemTableVariable(){return this.getMapVariable(T.ITEM_TABLE_KEY)}createItem(t,e){const a=this.getItemTableVariable(),r=new E(e);a.setVariable(t,r)}getItem(t){const e=this.getItemTableVariable().getVariable(t);if(!e)return null;return{description:e.getStr()}}getItemTable(){const t=this.getItemTableVariable(),e=new Map;for(const a of t.keys()){const r=t.getVariable(a).getStr();e.set(a,r)}return e}getClothing(){return this.getStrVariable(T.CLOTHING_KEY).getStr()}setClothing(t){this.getStrVariable(T.CLOTHING_KEY).setStr(t)}getSummaryTableVariable(){return this.getMapVariable(T.SUMMARY_TABLE_KEY)}addSummary(t,e){const a=this.getSummaryTableVariable(),r=a.size,s=this.getDatetimeVariable(),i=this.getBigPlace(),n=this.getMiddlePlace(),l=this.getSmallPlace(),o=new V;o.setVariable(T.DATETIME_KEY,s),o.setVariable(T.BIG_PLACE_KEY,new E(i)),o.setVariable(T.MIDDLE_PLACE_KEY,new E(n)),o.setVariable(T.SMALL_PLACE_KEY,new E(l)),o.setVariable(T.SUMMARY_KEY,new E(t)),o.setVariable(T.WEIGHTING_KEY,new d(0,1,e)),a.setVariable(String(r),o)}getSummary(t){const e=this.getSummaryTableVariable().getVariable(String(t));if(!e)return null;return{datetime:e.getVariable(T.DATETIME_KEY).getDateTime(),big_place:e.getVariable(T.BIG_PLACE_KEY).getStr(),middle_place:e.getVariable(T.MIDDLE_PLACE_KEY).getStr(),small_place:e.getVariable(T.SMALL_PLACE_KEY).getStr(),summary:e.getVariable(T.SUMMARY_KEY).getStr(),weighting:e.getVariable(T.WEIGHTING_KEY).getNum()}}getSummaries(){const t=this.getSummaryTableVariable(),e=[];for(let a=0;a<t.size;a++)e.push(this.getSummary(a));return e}finishCurrentAction(t,e){this.addSummary(t,e),e=Math.trunc(10*e);const a=this.getTrustROC(),r=this.getInterestROC(),s=Math.max(1,Math.abs(a)+Math.abs(r));let i=Math.trunc(a/s*e);i<0&&(i*=2);let n=Math.trunc(r/s*e);n<0&&(n*=2);const l=this.getMoodROC();let o=0;l>0&&l>10-e?o=1:l<0&&2*l<e-10&&(o=-1),console.log('[Action Command] weighting:',e),console.log('[Action Command] trust_roc:',a),console.log('[Action Command] interest_roc:',r),console.log('[Action Command] roc_sum:',s),console.log('[Action Command] delta_trust:',i),console.log('[Action Command] delta_interest:',n),console.log('[Action Command] mood_roc:',l),console.log('[Action Command] delta_mood:',o),this.deltaTrust(i),this.deltaInterest(n),this.deltaMood(o),this.resetTrustROC(),this.resetInterestROC(),this.resetMoodROC()}handleChangeDateEvents(t,e,a,r,s,i){const n=new Date(t,e,a),l=new Date(r,s,i),o=Math.floor((l.getTime()-n.getTime())/864e5);o<=0||this.deltaMoney(2e3*o)}isCurrentDateTimeBetween(t,e,a,r){const s=this.state.get(T.DATETIME_KEY);if(!(s instanceof p))return!1;const i=60*s.getHours()+s.getMinutes(),n=60*t+e,l=60*a+r;return n<=l?i>=n&&i<=l:i>=n||i<=l}isCurrentDateTimeAtNight(){return this.isCurrentDateTimeBetween(19,0,0,0)}}const N={class:'galgame-container'},I={class:'content-wrapper'},C={class:'main-content'},f={class:'dialogue-box'},Y={class:'dialogue-text'},v={class:'inventories-panel'},D={class:'inventories-header'},O={key:0,class:'no-items-message'},A={class:'item-name'},R={class:'item-description'},w={class:'item-quantity'},K={class:'bottom-status-bar'},P={class:'status-row-1'},L={class:'date-time'},B={class:'status-row-2'},H={class:'location'},k={class:'status-row-3'},x={class:'clothing'},G={class:'status-row-4'},j={class:'status-item'},U={class:'status-item'},F={class:'status-item'},W={class:'status-item'},q='???',X=(0,a.defineComponent)({__name:'app',setup(t){const e={stamina:q,stamina_high:q,money:q,trust:q,interest:q,mood:q,day_of_week:q,month_day:q,time:q,big_place:q,middle_place:q,small_place:q,weather:q,current_action:q,clothing:q,dialogue_text:'[無法載入對話內容...]'},r=(0,a.reactive)({...e}),s=(0,a.computed)(()=>{const t=h.getClothing();return t?`妹妹衣著: ${t}`:'妹妹衣著: ???'}),i=(0,a.ref)([]),n=(0,a.ref)(!1),l={type:'chat'},o=getCurrentMessageId(),g=getChatMessages(o,{include_swipes:!0})[0]?.swipe_id,u=((0,a.computed)(()=>'number'!=typeof r.stamina||'number'!=typeof r.stamina_high||0===r.stamina_high?0:Math.round(r.stamina/r.stamina_high*100)),(0,a.computed)(()=>'number'==typeof r.money?r.money:0)),c=getVariables(l),m=S.fromVariables(c.history[o][g]),h=new T(m);function d(){try{if(null===o)return;r.stamina=h.getStamina()??e.stamina,r.stamina_high=h.getStaminaHigh()??e.stamina_high,r.money=h.getMoney()??e.money,r.trust=h.getTrust()??e.trust,r.interest=h.getInterest()??e.interest,r.mood=['隨時都會爆發的狀態','不高興','普通','不錯','高興'][h.getMood()+2]??q??e.mood,r.day_of_week=['日','一','二','三','四','五','六'][h.getDay()]??q??e.day_of_week,r.month_day=`${h.getMonth()}月${h.getDate()}日`,r.time=`${h.getHours().toString().padStart(2,'0')}:${h.getMinutes().toString().padStart(2,'0')}`,r.big_place=h.getBigPlace()??e.big_place,r.middle_place=h.getMiddlePlace()??e.middle_place,r.small_place=h.getSmallPlace()??e.small_place,r.weather=h.getWeather()??e.weather,r.current_action=h.getCurrentAction()??e.current_action,r.clothing=h.getClothing()??e.clothing,function(t){try{const e=t.getInventories();i.value=e.map(e=>({name:e.name,description:t.getItem(e.name)?.description||e.description,quantity:e.quantity}))}catch(t){i.value=[]}}(h)}catch(t){}}function E(){try{if(null===o)return;const t=getChatMessages(o)[0];!function(t){const a=function(t,e){const a=t.split(`<${e}>`);return a[a.length-1].split(`</${e}>`)[0]}(t,'UserPerspective');r.dialogue_text=a??e.dialogue_text}(t.message)}catch(t){console.warn('[黑白妹UI] 無法載入對話文字',t)}}function p(){n.value=!n.value}return(0,a.onMounted)(()=>{d(),E(),eventMakeFirst(tavern_events.MESSAGE_SENT,t=>{if(console.log('[黑白妹UI] MESSAGE_SENT start'),getCurrentMessageId()+1!==t)return;const e=getVariables(l);e.current=h.toVariables(),replaceVariables(e,l),console.log('[黑白妹UI] MESSAGE_SENT end')})}),(t,e)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',N,[(0,a.createCommentVNode)(' 背景 '),e[2]||(e[2]=(0,a.createElementVNode)('div',{class:'background'},null,-1)),(0,a.createCommentVNode)(' 統一寬度容器 '),(0,a.createElementVNode)('div',I,[(0,a.createCommentVNode)(' 主要內容區域 '),(0,a.createElementVNode)('div',C,[(0,a.createCommentVNode)(' 對話框 '),(0,a.createElementVNode)('div',f,[(0,a.createElementVNode)('div',Y,(0,a.toDisplayString)(r.dialogue_text),1)])]),(0,a.createCommentVNode)(' 物品欄面板 '),(0,a.createElementVNode)('div',v,[(0,a.createElementVNode)('div',D,[(0,a.createElementVNode)('button',{class:'inventories-btn',onClick:p},[e[0]||(e[0]=(0,a.createElementVNode)('span',null,'物品欄',-1)),(0,a.createElementVNode)('div',{class:(0,a.normalizeClass)(['toggle-icon',{open:n.value}])},null,2)])]),(0,a.createElementVNode)('div',{class:(0,a.normalizeClass)(['inventories-content',{open:n.value}])},[0===i.value.length?((0,a.openBlock)(),(0,a.createElementBlock)('div',O,[...e[1]||(e[1]=[(0,a.createElementVNode)('p',null,'物品欄為空',-1)])])):(0,a.createCommentVNode)('v-if',!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(i.value,t=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:t.name,class:'inventory-item'},[(0,a.createElementVNode)('span',A,(0,a.toDisplayString)(t.name),1),(0,a.createElementVNode)('span',R,(0,a.toDisplayString)(t.description),1),(0,a.createElementVNode)('span',w,'數量:'+(0,a.toDisplayString)(t.quantity),1)]))),128)),(0,a.createElementVNode)('div',{class:'inventories-footer-toggle',onClick:p},'▲ 收起 ▲')],2)]),(0,a.createCommentVNode)(' 底部狀態欄 '),(0,a.createElementVNode)('div',K,[(0,a.createCommentVNode)(' 第一行：日期時間和天氣 '),(0,a.createElementVNode)('div',P,[(0,a.createElementVNode)('span',L,(0,a.toDisplayString)(r.month_day)+' ('+(0,a.toDisplayString)(r.day_of_week)+') '+(0,a.toDisplayString)(r.time)+' '+(0,a.toDisplayString)(r.weather),1)]),(0,a.createCommentVNode)(' 第二行：地點 '),(0,a.createElementVNode)('div',B,[(0,a.createElementVNode)('span',H,(0,a.toDisplayString)(r.big_place)+'-'+(0,a.toDisplayString)(r.middle_place)+'-'+(0,a.toDisplayString)(r.small_place),1)]),(0,a.createCommentVNode)(' 第三行：衣著 '),(0,a.createElementVNode)('div',k,[(0,a.createElementVNode)('span',x,(0,a.toDisplayString)(s.value),1)]),(0,a.createCommentVNode)(' 第四行：信賴、興致、心情、金錢 '),(0,a.createElementVNode)('div',G,[(0,a.createElementVNode)('span',j,'信賴:'+(0,a.toDisplayString)(r.trust),1),(0,a.createElementVNode)('span',U,'興致:'+(0,a.toDisplayString)(r.interest),1),(0,a.createElementVNode)('span',F,'心情:'+(0,a.toDisplayString)(r.mood),1),(0,a.createElementVNode)('span',W,'$'+(0,a.toDisplayString)(u.value),1)])])])]))}});var J=function a(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,a),i.exports}(235);const Q=(0,J.A)(X,[['__scopeId','data-v-123dff53']]);$(()=>{(0,a.createApp)(Q).mount('#app')});</script><style>.galgame-container[data-v-123dff53]{position:relative;width:100%;font-family:"Comic Sans MS","Chalkduster",sans-serif;color:#000;display:flex;flex-direction:column;align-items:center}.content-wrapper[data-v-123dff53]{width:100%;max-width:1200px;display:flex;flex-direction:column;gap:10px}.bottom-status-bar[data-v-123dff53]{background:rgba(20,20,20,.95);border:3px solid #666;border-radius:15px;padding:20px;display:flex;flex-direction:column;gap:8px;box-shadow:5px 5px 0px #333;font-size:14px;font-weight:bold;color:#ccc}.status-row-1[data-v-123dff53]{display:flex;justify-content:center;align-items:center;text-align:center;padding-bottom:8px;border-bottom:1px solid hsla(0,0%,100%,.3);gap:20px}.status-row-2[data-v-123dff53]{display:flex;justify-content:center;align-items:center;text-align:center;padding-bottom:8px;border-bottom:1px solid hsla(0,0%,100%,.3)}.status-row-3[data-v-123dff53]{display:flex;justify-content:center;align-items:center;text-align:center;padding-bottom:8px;border-bottom:1px solid hsla(0,0%,100%,.3)}.status-row-4[data-v-123dff53]{display:flex;justify-content:center;align-items:center;text-align:center;gap:20px}.date-time[data-v-123dff53]{color:#ccc;text-shadow:1px 1px 0px #333;white-space:nowrap;justify-self:center}.weather[data-v-123dff53]{color:#ccc;text-shadow:1px 1px 0px #333;justify-self:center}.location[data-v-123dff53]{color:#ccc;text-shadow:1px 1px 0px #333;justify-self:center;text-align:center}.current-action[data-v-123dff53]{color:#ccc;text-shadow:1px 1px 0px #333;justify-self:center;text-align:center;font-weight:bold}.stamina-bar[data-v-123dff53]{position:relative;display:grid;grid-template-columns:auto 1fr;align-items:center;gap:8px;justify-self:center}.stamina-bar .value[data-v-123dff53]{color:#000;font-size:11px;font-weight:bold;text-shadow:1px 1px 0px #fff,-1px -1px 0px #fff,1px -1px 0px #fff,-1px 1px 0px #fff;white-space:nowrap;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:3;pointer-events:none;grid-column:2}.stamina-bar .label[data-v-123dff53]{color:#ccc;font-size:12px;text-shadow:1px 1px 0px #333;white-space:nowrap;grid-column:1}.stamina-bar .bar-container[data-v-123dff53]{position:relative;width:120px;height:16px;background:hsla(0,0%,100%,.2);border:1px solid #666;border-radius:6px;overflow:hidden;grid-column:2}.stamina-bar .bar-fill[data-v-123dff53]{height:100%;background:#ccc;border-radius:5px;transition:width .3s ease}.money[data-v-123dff53]{color:#ccc;font-size:16px;font-weight:bold;text-shadow:1px 1px 0px #333;justify-self:center}.background[data-v-123dff53]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#2a2a2a 25%,#1a1a1a 25%,#1a1a1a 50%,#2a2a2a 50%,#2a2a2a 75%,#1a1a1a 75%);background-size:20px 20px;opacity:.3;z-index:-1}.main-content[data-v-123dff53]{display:flex;flex:1;padding:20px 20px 0 20px;gap:20px;align-items:flex-start}.status-item[data-v-123dff53]{display:flex;justify-content:space-between;font-size:14px;font-weight:bold}.status-item .label[data-v-123dff53]{color:#aaa}.status-item .value[data-v-123dff53]{color:#ccc;text-shadow:1px 1px 0px #333}.dialogue-box[data-v-123dff53]{flex:1;background:rgba(20,20,20,.95);border:3px solid #666;border-radius:15px;padding:20px;box-shadow:5px 5px 0px #333;min-height:120px;display:flex;align-items:center}.dialogue-text[data-v-123dff53]{font-size:16px;line-height:1.6;color:#ccc;text-shadow:1px 1px 0px #333;word-wrap:break-word;white-space:pre-line}.galgame-container[data-v-123dff53]::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(255,255,255,0.03) 2px,rgba(255,255,255,0.03) 4px);pointer-events:none}.status-panel[data-v-123dff53]::after,.dialogue-box[data-v-123dff53]::after{content:"";position:absolute;bottom:-8px;right:-8px;width:20px;height:20px;background:#666;border-radius:50%}@media (max-width:768px){.bottom-status-bar[data-v-123dff53]{padding:12px;margin:5px;gap:6px;font-size:12px}.status-row-1[data-v-123dff53]{gap:6px}.status-row-2[data-v-123dff53]{gap:6px}.status-row-3[data-v-123dff53]{gap:6px}.date-time[data-v-123dff53],.weather[data-v-123dff53],.location[data-v-123dff53],.current-action[data-v-123dff53],.money[data-v-123dff53]{justify-self:center;text-align:center}.status-item[data-v-123dff53]{justify-self:center;text-align:center}.stamina-bar[data-v-123dff53]{justify-self:center}.stamina-bar .bar-container[data-v-123dff53]{width:120px}.main-content[data-v-123dff53]{padding:10px 10px 0 10px}.dialogue-box[data-v-123dff53]{margin-bottom:10px}}.shop-panel[data-v-123dff53]{background:rgba(20,20,20,.95);border:3px solid #666;border-radius:15px;padding:20px;box-shadow:5px 5px 0px #333;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);flex:1;min-height:120px;display:flex;flex-direction:column}.shop-header[data-v-123dff53]{text-align:center;margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid hsla(0,0%,100%,.2)}.shop-header span[data-v-123dff53]{font-size:18px;font-weight:bold;color:#ccc;text-shadow:1px 1px 0px #333}.no-items-message[data-v-123dff53]{text-align:center;padding:20px;color:#ccc;font-size:14px;text-shadow:1px 1px 0px #333}.no-items-message p[data-v-123dff53]{margin:10px 0}.shop-items[data-v-123dff53]{display:flex;flex-direction:column}.shop-item[data-v-123dff53]{padding:8px 12px;transition:all .3s ease;border-bottom:1px solid hsla(0,0%,100%,.08)}.shop-item[data-v-123dff53]:hover{background:hsla(0,0%,100%,.03)}.shop-item[data-v-123dff53]:last-child{border-bottom:none}.item-header[data-v-123dff53]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.item-name[data-v-123dff53]{flex-shrink:0;text-align:left;white-space:nowrap;align-self:center}.item-price[data-v-123dff53]{font-size:14px;font-weight:bold;color:#5ee4ff;text-shadow:1px 1px 0px #000;margin-right:12px;white-space:nowrap}.item-controls[data-v-123dff53]{display:flex;align-items:center;gap:6px;min-width:120px;justify-content:flex-end}.item-description[data-v-123dff53]{font-size:13px;color:#888;text-shadow:1px 1px 0px #333;line-height:1.4}.quantity-btn[data-v-123dff53]{width:32px;height:32px;border:2px solid #666;background:hsla(0,0%,100%,.1);color:#ccc;font-size:18px;font-weight:bold;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;text-shadow:1px 1px 0px #333}.quantity-btn[data-v-123dff53]:hover:not(:disabled){background:hsla(0,0%,100%,.2);border-color:#888;transform:scale(1.05)}.quantity-btn[data-v-123dff53]:active:not(:disabled){transform:scale(0.95)}.quantity-btn[data-v-123dff53]:disabled{opacity:.4;cursor:not-allowed;background:hsla(0,0%,100%,.05)}.quantity-input[data-v-123dff53]{width:60px;height:32px;border:2px solid #666;background:hsla(0,0%,100%,.1);color:#fff;font-size:14px;font-weight:bold;text-align:center;border-radius:6px;outline:none;transition:all .2s ease;text-shadow:1px 1px 0px #333}.quantity-input[data-v-123dff53]:focus{border-color:#5ee4ff;background:hsla(0,0%,100%,.15);box-shadow:0 0 8px rgba(94,228,255,.3)}.quantity-input[data-v-123dff53]::-webkit-outer-spin-button,.quantity-input[data-v-123dff53]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.quantity-input[type=number][data-v-123dff53]{-moz-appearance:textfield}@media (max-width:768px){.shop-panel[data-v-123dff53]{padding:8px;margin:4px 0}.shop-item[data-v-123dff53]{padding:6px 8px}.item-header[data-v-123dff53]{gap:4px;margin-bottom:2px}.item-name[data-v-123dff53]{font-size:14px;margin-right:4px}.item-price[data-v-123dff53]{font-size:13px;margin-right:6px}.item-controls[data-v-123dff53]{min-width:85px}.item-description[data-v-123dff53]{font-size:12px;text-align:left}.quantity-input[data-v-123dff53]{width:38px;font-size:12px}.quantity-btn[data-v-123dff53]{width:24px;height:24px;font-size:14px}}.inventories-panel[data-v-123dff53]{background:rgba(20,20,20,.95);border:3px solid #666;border-radius:15px;padding:20px;box-shadow:5px 5px 0px #333;font-size:14px;font-weight:bold;color:#ccc}.inventories-header[data-v-123dff53]{text-align:center;margin-bottom:8px;padding-bottom:4px}.inventories-btn[data-v-123dff53]{position:relative;padding:12px 20px;cursor:pointer;display:flex;align-items:center;justify-content:space-between;border-bottom:1px dashed hsla(0,0%,100%,.3);transition:all .3s ease;background:rgba(0,0,0,0);border:none;width:100%;text-align:left;color:#ccc;font-size:14px;font-weight:bold;text-shadow:1px 1px 0px #333}.inventories-btn .toggle-icon[data-v-123dff53]{width:0;height:0;border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:8px solid #ccc;transition:transform .3s ease;margin-left:8px;flex-shrink:0}.inventories-btn .toggle-icon.open[data-v-123dff53]{transform:rotate(180deg)}.inventories-btn[data-v-123dff53]:hover{background:hsla(0,0%,100%,.1)}.inventories-btn[data-v-123dff53]:focus{outline:none}.inventories-content[data-v-123dff53]{max-height:0;overflow:hidden;transition:max-height .5s cubic-bezier(0.4,0,0.2,1);background:rgba(20,20,20,.95);border-top:1px solid hsla(0,0%,100%,.1)}.inventories-content.open[data-v-123dff53]{max-height:200px}.inventory-item[data-v-123dff53]{padding:8px 12px;transition:all .3s ease;border-bottom:1px solid hsla(0,0%,100%,.08);color:#ccc;text-shadow:1px 1px 0px #333;font-size:13px;display:flex;align-items:flex-start;justify-content:space-between}.inventory-item[data-v-123dff53]:hover{background:hsla(0,0%,100%,.03)}.inventory-item[data-v-123dff53]:last-child{border-bottom:none}.item-name[data-v-123dff53]{flex-shrink:0;text-align:left;margin-right:8px;align-self:center}.item-description[data-v-123dff53]{flex:1;text-align:left;margin:0 8px;align-self:flex-start;word-wrap:break-word;overflow-wrap:break-word}.item-quantity[data-v-123dff53]{flex-shrink:0;text-align:right;white-space:nowrap;align-self:center}.inventories-footer-toggle[data-v-123dff53]{display:block;text-align:center;padding:15px 0;color:#ccc;opacity:.8;font-size:13px;cursor:pointer;transition:all .2s ease;-webkit-user-select:none;user-select:none;text-shadow:1px 1px 0px #333}.inventories-footer-toggle[data-v-123dff53]:hover{opacity:1;transform:scale(1.02)}.inventories-footer-toggle[data-v-123dff53]:active{transform:scale(0.98)}.no-items-message[data-v-123dff53]{text-align:center;padding:20px;color:#ccc;font-size:14px;text-shadow:1px 1px 0px #333}.no-items-message p[data-v-123dff53]{margin:10px 0}@media (max-width:768px){.inventories-panel[data-v-123dff53]{padding:12px;margin:5px}.inventories-header[data-v-123dff53]{margin-bottom:6px;padding-bottom:2px}.inventories-btn[data-v-123dff53]{padding:6px 12px;font-size:12px}.inventory-item[data-v-123dff53]{padding:6px 8px;font-size:12px}.inventories-footer-toggle[data-v-123dff53]{padding:10px 0;font-size:12px}}
</style></head><body><div id="app"></div></body>